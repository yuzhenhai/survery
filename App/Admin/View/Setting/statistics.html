<include file="Public/head"/>
<body class="no-skin">
<include file="Public/header"/>
<div class="main-container" id="main-container">
    <include file="Public/sidebar"/>
    <div class="main-content">
        <div class="main-content-inner">
            <!-- #section:basics/content.breadcrumbs -->
            <include file="Public/breadcrumbs" />

            <!-- /section:basics/content.breadcrumbs -->
            <div class="page-content">

                <include file="Public/set"/>

                <!-- /section:settings.box -->
                <div class="row">
                    <div class="pull-left col-xs-2">
                        <a class="btn btn-success  btn-xs" href="{:U('hours')}" value="">  活跃时间统计</a>
                    
                        
                    </div>
                    <div class="pull-right col-xs-10 ">

                        <form class="form-inline" action="" method="get" id="search_form">
                            <div class="pull-left col-xs-2">
                            <a class="btn btn-success  btn-xs" href="{:U('statistics', array('yesterday' => '1'))}" value="">  昨天</a>
                   
                   
                            <a class="btn btn-success  btn-xs" href="{:U('statistics', array('past' => '1'))}" value="">  过去七天</a>
                            </div>
                            <label class="col-sm-2 control-label no-padding-right" for="form-field-1"> 开始时间/结束时间  </label>
                            <div class="col-sm-5">
                                <div class="input-daterange input-group">
                                    <input class="input-sm form-control" name="begin" type="text" value="{$begin}">
                                    <span class="input-group-addon">
                                        <i class="fa fa-exchange"></i>
                                    </span>
                                    <input class="input-sm form-control" name="end" type="text" value="{$end}">
                                </div>      
                            </div>
                            <button type="submit" class="btn btn-purple btn-sm">
                                <span class="ace-icon fa fa-search icon-on-right bigger-110"></span>
                                筛选
                            </button>
                        </form>
                    </div>
                    <div class="col-xs-12">
                       
                        <div class="col-xs-6">
                            <div id="hour" style="width: 1000px;height:600px;"></div>
                        </div>
                     <!--    <div class="col-xs-6">
                            <div id="dati" style="width: 600px;height:400px;"></div>
                        </div>
                        <div class="col-xs-12">
                            <div id="main"  style="width: 600px;height:400px;"></div>
                        </div> -->
                        <!-- PAGE CONTENT ENDS -->
                    </div><!-- /.col -->
                </div><!-- /.row -->
            </div><!-- /.page-content -->
        </div>
    </div><!-- /.main-content -->

    <include file="Public/footer"/>

</div><!-- /.main-container -->

<include file="Public/footerjs"/>
<!-- inline scripts related to this page -->
<script src="__PUBLIC__/themes/js/date-time/bootstrap-datepicker.js"></script>
<script src="__PUBLIC__/themes/js/bootstrap-wysiwyg.js"></script>

 <script type="text/javascript">


        $('.input-daterange').datepicker({
            autoclose:true,
            format: 'yyyy-mm-dd',
            language: 'cn'
        });


        // // 基于准备好的dom，初始化echarts实例
        // var myChart = echarts.init(document.getElementById('main'));

        // // 指定图表的配置项和数据
        // var option = {
        //     title: {
        //         text: '用户月统计表'
        //     },
        //     tooltip: {
        //         trigger: 'axis'
        //     },
        //     legend: {
        //         data:['登录','答题','编辑会员','积分兑换']
        //     },
        //     xAxis: {
        //         data: ["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十月一","十二月"]
        //     },
        //     yAxis: {},
        //     series: [{
        //         name: '登录',
        //         type: 'line',
        //         data: [<volist name="userlog" id="val">{$val},</volist>]
        //     },{
        //         name: '答题',
        //         type: 'line',
        //         color:['#90EC7D'],
        //         data: [<volist name="datis" id="val">{$val},</volist>]
        //     }
        //     ,{
        //         name: '编辑会员',
        //         type: 'line',
        //         color:['#000'],
        //         data: [<volist name="eidtuser" id="val">{$val},</volist>]
        //     }
        //     ,{
        //         name: '积分兑换',
        //         type: 'line',
        //         color:['#ccc'],
        //         data: [<volist name="integral" id="val">{$val},</volist>] 
        //     }


        //     ]
        // };

        // // 使用刚指定的配置项和数据显示图表。
        // myChart.setOption(option);

        // var daTi = echarts.init(document.getElementById('dati'));

        // // 指定图表的配置项和数据
        // var answer = {
        //     title: {
        //         text: '用户当月统计表'
        //     },
        //     tooltip: {
        //         trigger: 'axis'
        //     },
        //     legend: {
        //         data:['登录','答题','编辑会员','积分兑换']
        //     },
        //     // xAxis: {
        //     //     data: ["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十月一","十二月"]
        //     // },
        //     xAxis : [
        //         {
        //             axisLabel:{
        //                 rotate: 30,
        //                 interval:0
        //             },
        //             axisLine:{
        //               lineStyle :{
        //                   color: '#CECECE'
        //               }
        //             },
        //             type : 'category',
        //             boundaryGap : false,
        //             data : function (){
        //                 var list = [];
        //                 for (var i = 1; i <= {$days}; i++) {
                            
        //                     list.push(i);
                           
        //                 }
        //                 return list;
        //             }()
        //         }
        //     ],
        //     yAxis: {},
        //     series: [{
        //         name: '登录',
        //         type: 'line',
        //         data: [<volist name="dayslogin" id="val">{$val},</volist>]  
        //     },{
        //         name: '答题',
        //         type: 'line',
        //         color:['#90EC7D'],
        //         data: [<volist name="daysdatis" id="val">{$val},</volist>]
        //     },{
        //         name: '编辑会员',
        //         type: 'line',
        //         color:['#000'],
        //         data: [<volist name="daysuser" id="val">{$val},</volist>]            
        //     },{
        //         name: '积分兑换',
        //         type: 'line',
        //         color:['#ccc'],
        //         data: [<volist name="daysintegral" id="val">{$val},</volist>]               
        //     }
        //     ]
        // };

        // daTi.setOption(answer);

        var hour = echarts.init(document.getElementById('hour'));

        // 指定图表的配置项和数据
        var hours = {
            title: {
                text: '用户访问统计表'
            },
            tooltip: {
                trigger: 'axis'
            },
            legend: {
                data:['登录','答题','编辑会员','积分兑换']
            },
            // xAxis: {
            //     data: ["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十月一","十二月"]
            // },
            xAxis : [
                {
                    axisLabel:{
                        rotate: 30,
                        interval:0
                    },
                    axisLine:{
                      lineStyle :{
                          color: '#CECECE'
                      }
                    },
                    type : 'category',
                    boundaryGap : false,
                    data : [<volist name="heng" id="v">"{$v}",</volist>]
                    
                }
            ],
            yAxis: {},
            series: [{
                name: '登录',
                type: 'line',
                data: [<volist name="hourlogin" id="val">{$val},</volist>]  
            },{
                name: '答题',
                type: 'line',
                color:['#90EC7D'],
                data: [<volist name="hourdatis" id="val">{$val},</volist>]
            },{
                name: '编辑会员',
                type: 'line',
                color:['#000'],
                data: [<volist name="houruser" id="val">{$val},</volist>]            
            },{
                name: '积分兑换',
                type: 'line',
                color:['#ccc'],
                data: [<volist name="hourintegral" id="val">{$val},</volist>]               
            }
            ]
        };

        hour.setOption(hours);

    </script>
</body>
</html>
